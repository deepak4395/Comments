import express from 'express';\nimport bodyParser from 'body-parser';\nimport { moderateText } from '../src/hfAdapter';\n\nconst app = express();\napp.use(bodyParser.json());\n\napp.post('/moderate', async (req, res) => {\n  try {\n    const { text, model } = req.body;\n    if (typeof text !== 'string' || text.trim() === '') return res.status(400).json({ error: 'text required' });\n    const mod = await moderateText(text, model);\n    if (mod.safe === true) return res.json({ status: 'published', moderation: mod });\n    if (mod.safe === false) return res.json({ status: 'flagged', moderation: mod });\n    return res.status(202).json({ status: 'pending', moderation: mod });\n  } catch (err: any) {\n    return res.status(500).json({ error: String(err) });\n  }\n});\n\nconst port = process.env.PORT || 4000;\napp.listen(port, () => console.log(`Moderation example server listening on http://localhost:${port}`));